<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Friend Finder App</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
  
</head>
    <style>
        body{background-image: url("https://d30y9cdsu7xlg0.cloudfront.net/png/145889-200.png");
             background-repeat: repeat;
             margin:0 auto;}       
        .container {background-color: darkseagreen; width: 80%; margin: 0 auto; text-align: center;}  
        #question {font-size: 25px;}
        form {width: 400px; margin: 0 auto;}
        #info{width:40%; margin: 0 auto;}
    </style>
<body>
        <div class="card text-center" id="info">
                <div class="card-header">
                  About You
                </div>
                <form>
                    <div class="form-group">
                        <label for="name">Your name:</label>
                        <i class="material-icons prefix"></i>
                        <input type="text" class="form-control" id="userName" aria-describedby="nameHelp">
                    </div>
                    <div class="form-group">
                        <label for="inputphoto">Link to your photo:</label>
                        <i class="material-icons prefix"></i>
                        <input type="link" class="form-control" id="userPhoto">  
                    </div>
                    
                </form>
                <div class="card-footer text-muted">

                </div>
              </div>

    <div class="container">
        <h4>Instructions: Rate each question 1 to 5 with 1 meaning stongly disagree and 5 strongly agree.</h1>
            <br>
        <div class="input-field col s12">
            <h3>Question 1</h3>
            <h5>I"d rather spend all day outdoors than playing video games.</h5>
            <select id="question1">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="input-field col s12">
            <h3>Question 2</h3>
            <h5>Political views should be revealed upon introduction.</h5>
            <select id="question2">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="input-field col s12">
            <h3>Question 3</h3>
            <h5>I prefer winter all year long over summer all year long.</h5>
            <select id="question3">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="input-field col s12">
            <h3>Question 4</h3>
            <h5>I am a Vikings fan not a Packers fan!</h5>
            <select id="question4">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="input-field col s12">
            <h3>Question 5</h3>
            <h5>Pinapples go well on pizza.</h5>
            <select id="question5">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="input-field col s12">
            <h3>Question 6</h3>
            <h5>I will never eat candy corn for as long as I live!</h5>
            <select id="question6">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="input-field col s12">
            <h3>Question 7</h3>
            <h5>You should never, under any circumstances speed in traffic.</h5>
            <select id="question7">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="input-field col s12">
            <h3>Question 8</h3>
            <h5>Society needs to be more progressive.</h5>
            <select id="question8">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="input-field col s12">
            <h3>Question 9</h3>
            <h5>I am not a texter, just call me.</h5>
            <select id="question9">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="input-field col s12">
            <h3>Question 10</h3>
            <h5>If I had the funds, I would go shopping everyday.</h5>
            <select id="question10">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
            <br>

        <button type="submit" class="btn btn-primary" id ="subBtn"style="background-color:darkolivegreen">Submit</button>
        <a href="/">
            <button type="button" class="btn btn-primary" id="homeBtn" style="background-color:darkolivegreen">Home</button>
        </a>
        
<!-- Modal Dialog Displaying Closest Friend Match -->
    <div id="modal1" class="modal">
		<div class="modal-content">
			<h4>Closest Friend Match</h4>
			<div class="divider"></div>
			<h5 id="userMatch"></h5>
			<img id="userMatchImage" class="materialboxed" width="650" src="">
		</div>
		<div class="modal-footer">
			<a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
		</div>
	</div>

    <a href="/api/friends">API Friends List</a>
</div>


    <script type="text/javascript">
    $(document).ready(function() {
			$("select").material_select();
			$(".modal").modal({
				dismissible: false, // Modal can be dismissed by clicking outside of the modal
				opacity: .5, // Opacity of modal background
				inDuration: 300, // Transition in duration
				outDuration: 200, // Transition out duration
				startingTop: "4%", // Starting top style attribute
				endingTop: "10%" // Ending top style attribute
			});
        });
        
        $("#subBtn").on("click", function(event){
            event.preventDefault();
            var newFriend = {
                  name: $("#userName").val().trim(),
                  photo: $("#userPhoto").val().trim(),
                  score: [
                    $("#question1").val().trim(),
					$("#question2").val().trim(),
					$("#question3").val().trim(),
					$("#question4").val().trim(),
					$("#question5").val().trim(),
					$("#question6").val().trim(),
					$("#question7").val().trim(),
					$("#question8").val().trim(),
					$("#question9").val().trim(),
					$("#question10").val().trim()
                ]
            };
            console.log(newFriend);
       
       // Add user inputs to friends list
			$.post("/api/friends", newFriend)
      		.done(function(data) {
      			// Set the name and image values of friend match
      			$("#userMatch").html(data.matchName);
		    	$("#userMatchImage").attr("src", data.matchImage);
		    	// Pop open the modal dialog
      			$("#modal1").modal("open");
            });
        }); 
	</script>
</body>
</html>